# EDUCORE DIRECTORY MANAGEMENT SYSTEM - ARCHITECTURE

## 1. ARCHITECTURE OVERVIEW

### 1.1 Architecture Pattern
**Onion Architecture** (Layered, Separation of Concerns)

- **Core Domain**: Business logic and entities
- **Application Layer**: Use cases and application services
- **Infrastructure Layer**: External services, database, APIs
- **Presentation Layer**: UI, controllers, API endpoints

### 1.2 System Type
- **Multi-tenant SaaS Platform**
- Each company has isolated data and access
- Shared infrastructure with tenant isolation

### 1.3 Deployment Architecture
- **Frontend**: React + Tailwind CSS → Vercel
- **Backend**: Node.js + Express → Railway
- **Database**: PostgreSQL → Supabase
- **CI/CD**: GitHub Actions

---

## 2. TECHNOLOGY STACK

### 2.1 Frontend
- **Framework**: React (JavaScript ES6)
- **Styling**: Tailwind CSS only
- **State Management**: React Context API / Hooks
- **Routing**: React Router
- **HTTP Client**: Fetch API or Axios
- **OAuth Libraries**: 
  - LinkedIn: OpenID Connect library
  - GitHub: OAuth2 library

### 2.2 Backend
- **Runtime**: Node.js
- **Framework**: Express.js
- **Language**: JavaScript (ES6) only — no TypeScript
- **Architecture**: Onion Architecture layers
- **Authentication**: Dummy authentication (future: JWT via AUTH SERVICE)
- **Validation**: Express validators
- **File Processing**: CSV parser library

### 2.3 Database
- **Type**: PostgreSQL
- **Hosting**: Supabase
- **ORM/Query Builder**: pg (node-postgres) or similar
- **Migrations**: Database migration scripts

### 2.4 CI/CD
- **Platform**: GitHub Actions
- **Workflow**: `.github/workflows/deploy.yml`
- **Features**:
  - PR/feature branch checks
  - Preview deploys
  - Milestone/tag deploys
  - Secure secrets management
  - Rollback hooks
  - Health checks

---

## 3. MONOREPO STRUCTURE

```
DIRECTORY3/
├── frontend/
│   ├── src/
│   │   ├── components/
│   │   ├── pages/
│   │   ├── hooks/
│   │   ├── context/
│   │   ├── utils/
│   │   ├── services/
│   │   └── App.js
│   ├── public/
│   ├── package.json
│   └── vercel.json
├── backend/
│   ├── src/
│   │   ├── core/           # Domain entities
│   │   ├── application/    # Use cases
│   │   ├── infrastructure/ # External services, DB
│   │   ├── presentation/  # Controllers, routes
│   │   └── shared/         # Shared utilities
│   ├── tests/
│   ├── package.json
│   └── railway.json
├── database/
│   ├── migrations/
│   ├── seeds/
│   └── schema.sql
├── docs/
│   ├── System_Description.txt
│   ├── project_customization.md
│   └── prompt_refinements.md
├── mockData/
│   ├── index.json
│   └── lotus_tech_hub_sample_company.csv
├── .github/
│   └── workflows/
│       └── deploy.yml
├── requirements.md
├── flow.md
├── architecture.md
├── features-map.json
└── README.md
```

---

## 4. DATABASE DESIGN

### 4.1 Core Tables

#### 4.1.1 companies
```sql
- id (UUID, Primary Key)
- company_name (VARCHAR, NOT NULL)
- industry (VARCHAR)
- domain (VARCHAR, UNIQUE)
- hr_contact_name (VARCHAR)
- hr_contact_email (VARCHAR)
- hr_contact_role (VARCHAR)
- verification_status (ENUM: pending, approved, rejected)
- learning_path_approval (ENUM: manual, automatic)
- primary_kpis (TEXT)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

#### 4.1.2 departments
```sql
- id (UUID, Primary Key)
- company_id (UUID, Foreign Key → companies.id)
- department_id (VARCHAR, NOT NULL) -- from CSV
- department_name (VARCHAR, NOT NULL)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- UNIQUE(company_id, department_id)
```

#### 4.1.3 teams
```sql
- id (UUID, Primary Key)
- company_id (UUID, Foreign Key → companies.id)
- department_id (UUID, Foreign Key → departments.id)
- team_id (VARCHAR, NOT NULL) -- from CSV
- team_name (VARCHAR, NOT NULL)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- UNIQUE(company_id, team_id)
```

#### 4.1.4 employees
```sql
- id (UUID, Primary Key)
- company_id (UUID, Foreign Key → companies.id)
- employee_id (VARCHAR, NOT NULL) -- from CSV
- full_name (VARCHAR, NOT NULL)
- email (VARCHAR, NOT NULL, UNIQUE)
- password_hash (VARCHAR) -- dummy for now
- current_role_in_company (VARCHAR)
- target_role_in_company (VARCHAR)
- preferred_language (VARCHAR)
- status (ENUM: active, inactive)
- bio (TEXT) -- AI-generated by Gemini (one-time only, permanent)
- linkedin_url (VARCHAR)
- github_url (VARCHAR)
- linkedin_data (JSONB) -- fetched OAuth data (one-time only)
- github_data (JSONB) -- fetched OAuth data (one-time only)
- enrichment_completed (BOOLEAN, DEFAULT FALSE) -- flag to prevent re-enrichment
- enrichment_completed_at (TIMESTAMP) -- timestamp of enrichment completion
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- UNIQUE(company_id, employee_id)
```

#### 4.1.5 employee_roles
```sql
- id (UUID, Primary Key)
- employee_id (UUID, Foreign Key → employees.id)
- role_type (ENUM: REGULAR_EMPLOYEE, TRAINER, TEAM_MANAGER, DEPARTMENT_MANAGER, DECISION_MAKER)
- created_at (TIMESTAMP)
- UNIQUE(employee_id, role_type)
```

#### 4.1.6 employee_teams
```sql
- id (UUID, Primary Key)
- employee_id (UUID, Foreign Key → employees.id)
- team_id (UUID, Foreign Key → teams.id)
- created_at (TIMESTAMP)
- UNIQUE(employee_id, team_id)
```

#### 4.1.7 employee_managers
```sql
- id (UUID, Primary Key)
- employee_id (UUID, Foreign Key → employees.id)
- manager_id (UUID, Foreign Key → employees.id)
- relationship_type (ENUM: team_manager, department_manager)
- created_at (TIMESTAMP)
- UNIQUE(employee_id, manager_id, relationship_type)
```

#### 4.1.8 employee_project_summaries
```sql
- id (UUID, Primary Key)
- employee_id (UUID, Foreign Key → employees.id)
- repository_name (VARCHAR, NOT NULL)
- repository_url (VARCHAR)
- summary (TEXT) -- AI-generated by Gemini (one-time only, permanent)
- created_at (TIMESTAMP)
- UNIQUE(employee_id, repository_name)
```

#### 4.1.9 trainer_settings
```sql
- id (UUID, Primary Key)
- employee_id (UUID, Foreign Key → employees.id, UNIQUE)
- ai_enabled (BOOLEAN, DEFAULT FALSE)
- public_publish_enable (BOOLEAN, DEFAULT FALSE)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

#### 4.1.10 audit_logs
```sql
- id (UUID, Primary Key)
- company_id (UUID, Foreign Key → companies.id)
- user_id (UUID, Foreign Key → employees.id)
- action_type (VARCHAR, NOT NULL)
- resource_type (VARCHAR)
- resource_id (UUID)
- action_details (JSONB)
- ip_address (VARCHAR)
- user_agent (VARCHAR)
- created_at (TIMESTAMP)
- INDEX(company_id, created_at)
- INDEX(user_id, created_at)
```

#### 4.1.11 company_registration_requests
```sql
- id (UUID, Primary Key)
- company_name (VARCHAR, NOT NULL)
- industry (VARCHAR)
- domain (VARCHAR, UNIQUE)
- hr_contact_name (VARCHAR)
- hr_contact_email (VARCHAR)
- hr_contact_role (VARCHAR)
- verification_status (ENUM: pending, approved, rejected)
- verification_notes (TEXT)
- reviewed_by (UUID, Foreign Key → employees.id) -- Directory Admin
- reviewed_at (TIMESTAMP)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

### 4.2 Indexes
- `companies.domain` (UNIQUE)
- `employees.email` (UNIQUE)
- `employees(company_id, employee_id)` (UNIQUE)
- `departments(company_id, department_id)` (UNIQUE)
- `teams(company_id, team_id)` (UNIQUE)
- `audit_logs(company_id, created_at)`
- `audit_logs(user_id, created_at)`

### 4.3 Data Isolation (Multi-tenancy)
- All queries filtered by `company_id`
- Row-level security policies in PostgreSQL
- Application-level tenant isolation checks

---

## 5. API DESIGN

### 5.1 API Structure
- **RESTful API** design
- Base URL: Stored in config.js (environment-based)
- Version: `/api/v1/` prefix

### 5.1.1 Request/Response Format
**CRITICAL**: All request bodies and responses must use stringified JSON in the exact structure:

**Request Body Format**:
```json
{
  "requester_service": "service_name",
  "payload": {
    // Actual request data here
  }
}
```

**Response Format**:
```json
{
  "requester_service": "service_name",
  "response": {
    // Response data here
  }
}
```

**Implementation**:
- All request bodies must be sent as `JSON.stringify()` of the above structure
- All responses must be parsed from stringified JSON
- Frontend must stringify request body before sending
- Backend must parse stringified request body
- Backend must stringify response before sending
- Frontend must parse stringified response

**Example Request**:
```javascript
// Frontend
const requestBody = JSON.stringify({
  requester_service: "directory_service",
  payload: {
    email: "user@example.com",
    password: "password123"
  }
});

fetch('/api/v1/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: requestBody
});
```

**Example Response**:
```javascript
// Backend
const response = {
  requester_service: "directory_service",
  response: {
    user: { id: 1, email: "user@example.com" },
    token: "dummy_token",
    company_id: "company_123"
  }
};

res.json(JSON.stringify(response));
```

### 5.2 Public Endpoints

#### 5.2.1 Authentication Endpoints
```
POST /api/v1/auth/login
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { email, password }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { user, token (dummy), company_id }
  }

POST /api/v1/auth/logout
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": {}
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { success: true }
  }
```

#### 5.2.2 Company Registration Endpoints
```
POST /api/v1/companies/register
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { company_name, industry, domain, hr_contact_name, hr_contact_email, hr_contact_role }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { company_id, verification_status }
  }

GET /api/v1/companies/verification/:company_id
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { verification_status, checks }
  }

POST /api/v1/companies/:company_id/upload-csv
  Body: FormData with CSV file (special case - file upload)
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { success, errors, warnings, partial_data }
  }

POST /api/v1/companies/:company_id/complete-registration
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { corrected_data }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { company_id, employees_created }
  }
```

#### 5.2.3 Employee Profile Endpoints
```
GET /api/v1/employees/:employee_id/profile
  Headers: { Authorization: Bearer <token> }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { employee, roles, teams, manager, hierarchy, bio (AI-generated), projects (AI-generated summaries) }
  }

PUT /api/v1/employees/:employee_id/profile
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { bio, preferred_language, ... }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { employee }
  }

POST /api/v1/employees/:employee_id/connect-linkedin
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { oauth_code }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { linkedin_data, bio (AI-generated by Gemini) }
  }

POST /api/v1/employees/:employee_id/connect-github
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { oauth_code }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { github_data, project_summaries (AI-generated by Gemini) }
  }

POST /api/v1/employees/:employee_id/generate-bio
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { linkedin_data, github_data }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { bio (AI-generated by Gemini) }
  }
  Note: This endpoint is called ONLY ONCE during first login. After enrichment is complete, this endpoint is disabled for the user.
```

#### 5.2.4 Hierarchy Endpoints
```
GET /api/v1/companies/:company_id/hierarchy
  Headers: { Authorization: Bearer <token> }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { departments, teams, employees, relationships }
  }

GET /api/v1/employees/:employee_id/team
  Headers: { Authorization: Bearer <token> }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { team, employees }
  }

GET /api/v1/employees/:employee_id/department
  Headers: { Authorization: Bearer <token> }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { department, teams, employees }
  }
```

#### 5.2.5 Company Admin Endpoints
```
GET /api/v1/companies/:company_id/dashboard
  Headers: { Authorization: Bearer <token> }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { metrics, kpis, pending_requests }
  }

GET /api/v1/companies/:company_id/employees
  Headers: { Authorization: Bearer <token> }
  Query: { search, role, team, department }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { employees }
  }

PUT /api/v1/companies/:company_id/settings
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { learning_path_approval, primary_kpis }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { company }
  }
```

#### 5.2.6 Directory Admin Endpoints
```
GET /api/v1/admin/companies
  Headers: { Authorization: Bearer <token> }
  Query: { status, search }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { companies }
  }

GET /api/v1/admin/companies/:company_id
  Headers: { Authorization: Bearer <token> }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { company, departments, teams, employees }
  }

PUT /api/v1/admin/companies/:company_id/approval
  Headers: { Authorization: Bearer <token> }
  Body (stringified JSON): {
    "requester_service": "directory_service",
    "payload": { status, notes }
  }
  Response (stringified JSON): {
    "requester_service": "directory_service",
    "response": { company }
  }
```

### 5.3 Internal Endpoints (Not Exposed Externally)
- Documented in architecture.md
- Follow consistent naming
- Used by microservices internally
- Examples:
  - `/internal/v1/employees/:employee_id/validate`
  - `/internal/v1/companies/:company_id/stats`

### 5.4 Single Public Endpoint (Dynamic SQL)
```
POST /api/v1/query
  Body (stringified JSON): {
    "requester_service": "service_name",
    "payload": { service_id, client_id, request: { table, fields, filters, ... } }
  }
  Response (stringified JSON): {
    "requester_service": "service_name",
    "response": { data }
  }
  
  Process:
  1. Parse stringified request body
  2. Validate service_id and client_id
  3. Generate SQL through AI-assisted prompt referencing current DB schema
  4. Validate SQL for security
  5. Execute query
  6. Return requested fields in stringified JSON format
```

### 5.5 External API Fallback
- On failure, load mock data from `/mockData/index.json`
- Global URLs stored in config.js
- Endpoint names fixed

---

## 6. SECURITY ARCHITECTURE

### 6.1 Authentication (Current - Dummy)
- Email/password from CSV
- Dummy token generation
- Session management (in-memory or Redis)

### 6.2 Authorization (RBAC)
- Role-based access control
- Permission checks at API level
- Hierarchy-based access (managers see subordinates)
- Company isolation (users only see their company data)

### 6.3 Data Encryption
- **At Rest**: Database encryption (Supabase handles)
- **In Transit**: TLS/HTTPS (Vercel/Railway handles)
- **Sensitive Fields**: Encrypt PII in application layer if needed

### 6.4 Secrets Management
- **No local .env files**
- Secrets stored in:
  - Vercel: Environment variables dashboard
  - Railway: Environment variables dashboard
  - Supabase: Project settings
- Required secrets:
  - `VERCEL_TOKEN`
  - `RAILWAY_TOKEN`
  - `SUPABASE_URL`
  - `SUPABASE_SERVICE_ROLE_KEY`
  - `LINKEDIN_CLIENT_ID`
  - `LINKEDIN_CLIENT_SECRET`
  - `GITHUB_CLIENT_ID`
  - `GITHUB_CLIENT_SECRET`
  - `GEMINI_API_KEY`

### 6.5 Audit Logging
- All critical actions logged
- Fields: timestamp, user_id, action_type, resource_type, resource_id, details
- Tamper-proof storage
- Queryable for compliance

### 6.6 Input Validation
- All inputs validated at API level
- SQL injection prevention (parameterized queries)
- XSS prevention (sanitize user inputs)
- CSRF protection (tokens)

---

## 7. EXTERNAL INTEGRATIONS

### 7.1 LinkedIn OAuth
- **Method**: OpenID Connect (Sign In with LinkedIn)
- **Flow**: Authorization code flow
- **Scopes**: profile, email, openid
- **Data Fetched**: Profile, work history, skills
- **Fallback**: Mock data from `/mockData/index.json`

### 7.2 GitHub OAuth
- **Method**: OAuth2
- **Flow**: Authorization code flow
- **Scopes**: user:email, read:user, repo (if needed)
- **Data Fetched**: Profile, repositories, contributions
- **Fallback**: Mock data from `/mockData/index.json`

### 7.3 Gemini AI Integration
- **Purpose**: Generate professional bio and project summaries from LinkedIn/GitHub data
- **API**: Google Gemini API
- **Endpoints Used**: 
  - Text generation endpoint for bio creation
  - Text generation endpoint for project summary creation
- **Input**: Raw LinkedIn profile data + GitHub repository data
- **Output**: 
  - Professional bio (generated from LinkedIn/GitHub data)
  - Project summaries (one per GitHub repository)
- **Integration Points** (ONE TIME ONLY - First Login):
  - After LinkedIn OAuth connection (first login only)
  - After GitHub OAuth connection (first login only)
  - **No Re-enrichment**: Changes in LinkedIn/GitHub do NOT trigger re-generation
- **Request Format** (stringified JSON):
```json
{
  "requester_service": "directory_service",
  "payload": {
    "linkedin_data": { /* LinkedIn profile data */ },
    "github_data": { /* GitHub profile and repositories */ },
    "employee_id": "uuid",
    "generation_type": "bio" | "project_summaries" | "both"
  }
}
```
- **Response Format** (stringified JSON):
```json
{
  "requester_service": "directory_service",
  "response": {
    "bio": "AI-generated professional bio",
    "project_summaries": [
      { "repository_name": "...", "summary": "AI-generated summary" }
    ]
  }
}
```
- **Fallback**: Mock AI-generated content from `/mockData/index.json`
- **Secrets**: `GEMINI_API_KEY` stored in Railway dashboard (not in .env)

### 7.4 Future Microservices
- **AUTH SERVICE**: JWT authentication (future)
- **Skills Engine**: Skill analysis (mock data fallback)
- **Assessment Service**: Assessments (mock data fallback)
- **Content Studio**: Course content (mock data fallback)

---

## 8. DEPLOYMENT ARCHITECTURE

### 8.1 Frontend Deployment (Vercel)
- **Build Command**: `npm run build`
- **Output Directory**: `build/`
- **Environment Variables**: Set in Vercel dashboard
- **Custom Domain**: Configured in Vercel
- **Preview Deploys**: Automatic for PRs

### 8.2 Backend Deployment (Railway)
- **Start Command**: `npm start`
- **Port**: Environment variable `PORT`
- **Environment Variables**: Set in Railway dashboard
- **Health Check**: `/health` endpoint
- **Scaling**: Auto-scaling based on load

### 8.3 Database (Supabase)
- **PostgreSQL**: Managed instance
- **Connection**: Connection string from Supabase
- **Migrations**: Run via Supabase CLI or dashboard
- **Backups**: Automatic (Supabase handles)

### 8.4 CI/CD Pipeline (GitHub Actions)
```yaml
Workflow: .github/workflows/deploy.yml
Triggers:
  - Pull requests (checks only)
  - Feature branches (preview deploys)
  - Main branch (production deploy)
  - Tags/milestones (versioned deploys)

Steps:
  1. Checkout code
  2. Install dependencies
  3. Run tests
  4. Run security scans
  5. Build frontend
  6. Build backend
  7. Deploy to preview/production
  8. Run health checks
  9. Rollback on failure
```

---

## 9. ONION ARCHITECTURE LAYERS

### 9.1 Core Domain Layer
**Location**: `backend/src/core/`

**Responsibilities**:
- Business entities (Company, Employee, Department, Team)
- Domain logic
- Business rules
- Value objects

**No Dependencies**: Pure business logic

### 9.2 Application Layer
**Location**: `backend/src/application/`

**Responsibilities**:
- Use cases (RegisterCompany, UploadCSV, EnrichProfile)
- Application services
- Business workflows
- DTOs (Data Transfer Objects)

**Dependencies**: Core domain only

### 9.3 Infrastructure Layer
**Location**: `backend/src/infrastructure/`

**Responsibilities**:
- Database repositories
- External API clients (LinkedIn, GitHub)
- File processing (CSV parser)
- Email services
- Audit logging

**Dependencies**: Core domain, Application interfaces

### 9.4 Presentation Layer
**Location**: `backend/src/presentation/`

**Responsibilities**:
- REST API controllers
- Route handlers
- Request/response mapping
- Input validation
- Authentication middleware

**Dependencies**: Application layer

### 9.5 Shared Layer
**Location**: `backend/src/shared/` and `frontend/src/shared/`

**Responsibilities**:
- Common utilities
- Constants
- Helpers
- Validators
- Error handlers

**Dependencies**: None (or minimal)

---

## 10. FEATURE ORGANIZATION

### 10.1 Feature-Based Structure
- Each feature has dedicated files
- No two features share a file
- Shared utilities under `/core` or `/shared` only

### 10.2 Features Map
- Maintain `features-map.json` for feature → file list
- Update on add/refine/remove

### 10.3 Example Feature Structure
```
Feature: Company Registration
Files:
  - backend/src/application/RegisterCompanyUseCase.js
  - backend/src/presentation/CompanyRegistrationController.js
  - backend/src/infrastructure/CompanyRepository.js
  - frontend/src/pages/CompanyRegistration.js
  - frontend/src/components/CompanyRegistrationForm.js
```

---

## 11. ERROR HANDLING

### 11.1 Error Types
- **Validation Errors**: 400 Bad Request
- **Authentication Errors**: 401 Unauthorized
- **Authorization Errors**: 403 Forbidden
- **Not Found Errors**: 404 Not Found
- **Server Errors**: 500 Internal Server Error

### 11.2 Error Response Format
```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Human-readable message",
    "details": {}
  }
}
```

### 11.3 Logging
- All errors logged with context
- Sensitive data excluded from logs
- Error tracking for monitoring

---

## 12. PERFORMANCE CONSIDERATIONS

### 12.1 Database Optimization
- Indexes on frequently queried fields
- Query optimization
- Connection pooling
- Caching strategies

### 12.2 API Optimization
- Pagination for large datasets
- Response compression
- Caching headers
- Rate limiting

### 12.3 Frontend Optimization
- Code splitting
- Lazy loading
- Image optimization
- CDN for static assets

---

## 13. MONITORING & HEALTH CHECKS

### 13.1 Health Check Endpoint
```
GET /health
Response: { status: "ok", timestamp, version }
```

### 13.2 Monitoring
- Application logs
- Error tracking
- Performance metrics
- Database query performance

### 13.3 Alerts
- Critical errors
- Performance degradation
- Security incidents
- Service downtime

---

## 14. DATA MIGRATION & SEEDING

### 14.1 Migrations
- Location: `database/migrations/`
- Versioned migration files
- Rollback support

### 14.2 Seed Data
- Location: `database/seeds/`
- Sample company data
- Test users
- Role combinations

### 14.3 Sample Data Generation
- Generate 10–20 sample employees
- Cover all role combinations
- Use CSV format matching production

